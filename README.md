# Accounting System by ENGG1340 Group 103
### Table of Content
- [Problem Statement](#statement)
- [Problem Setting](#setting)
- [Input/output Specifications](#specification)
- [Compilation and Execution Instructions](#instruction)

<a name="statement"></a>
## Problem Statement
*IDEAL*:\
Personal financial management is important. It allows people to allocate their wealth effectively. With a plan to avoid overspending, the savings can be used to fulfill long-term goals like buying a property, retirement, and crucailly, paying for any urgent needs. Hopefully, one can snowball wealth over time and have no worry about money. \
\
*REALITY*:\
Living in a prosperous and materialistic society, people are not aware of the importance of financial planning. They tend to spend money for their desires rather than their actual needs. More often, people do not record their spendings, thus having little idea about where does their money go to. Worese still, they do not even know that they have overspent. Togehter with the emergence of cashless payment methods which encourage people to spend more, personal financail management seems to be a formindable problem.\
\
*CONSEQUENCES*:\
Owing to monthly overspending, the result will either be huge credit card debts or very little savings. To solve these problems, people may resort to borrow loans from private finance companies to cover previous debts. It is common that people have poor credit ratings owing to the lack of proper finanical management. The consequences are inconceivably severe when someone have little knowlegde about how to manage and invest their hard-earned money.

<a name="setting"></a>
## Problem Setting
*Features*:\
To avoid the daunting corollary of neglecting own financail status, one must set budgets for every expense and keep track of the cashflow. In a bid to help people manage their money effectively, we created this tool.

*Functions of the tool*:
  1. Create and view user's accounts (i.e Bank, Cash and Credit card)
  
                    i.e. User1: Bank: $10000
                         User1: Cash: $1000
                         User1: Credit Card: -$5000

  2. Set up and delete categories of income or expenses under each account
  
                    i.e. Cash : Transportation, Entertainment, Food
                         Bank : Salary Income, House Mortgage
                         Credit Card : Instalment of smartphone

  3. Set a monthly or daily budget for each category
  
                    i.e. Cash: Food-(Daily Budget): $100
                         Cash: Entertainemnt-(Monthly Budget): $500
                                                         
  4. Calucate and show how much does the user save or overspend everyday according to the daily budgets.
  
                    i.e. Food-(Daily Budget): -$70
                         Daily budget saved : $30
                       
                    i.e. Food-(Daily Budget): -$150
                         Daily budget overspent : $50

  5. Calucate and show how much do the monthly budgets of categories left or overspent.
  
                    i.e. Entertainment-(Monthly Budget): -$300
                         Monthly budget left : $200
                         
                    i.e. Entertainment-(Monthly Budget): -$600
                         Monthy budget overspent : $100
  
  6. Provide monthly reports of user's expenditure, which include percentage of each category, warning if over spending, etc.
  
                   (Assume this month has 30 days)
                    i.e.  April-2019
                          Salary Income: +$50000
                          Total expenditure on Food: -$6000 (12%) !! Warning: Overspent by $3000 !!
                          Total expenditure on Entertainment: -$500 (1%)
                          Total expenditure: -$6500 (13%)
                          Left: $42500 (87%)
  
  7. Allow any change of the records
  
*Assumptions:*
1. Once an account and a category under the account is created, the user must type the exactly the same name of the account and category so that the records can be made.

2. The user must type in the correct commands which we will provide a manual of them in order to execute the program properly.

<a name="specification"></a>
## Input/output Specifications
### Input
The program requires five text files as databases. They are called:
1. `Information.txt`
2. `Account.txt`
3. `Record.txt`
4. `Budget.txt`
5. `Auto_Record.txt`

They needed to be created by the user at the first time. The filenames can be changed but their names in the source code have to be updated as well. The structures of the databases are similar. Each field is separated by a space. The first line in a database is fixed and required as to indicate its content. The second line which is not necessary indicates the field names of a record. The remaining are the records generated by the program. The first field of a record is always the username. It is used for table linkage between databases.
#### Structure of "Information.txt"
It stores the login and personal information of the users.
```
Information
Username|Password|Name_ID

User0001 user1 Chow Siu Ming
JasonChan jc1234 Chan Tai Man
```
The first field is the username of a user. It is required that it is unique and contains no spaces, ie. `Jason Chan` is invalid. The second one is the password of a user. The last one is the full name of a user.
#### Structure of "Account.txt"
It stores the accounts that a user has.
```
Account
Username|AccountName|Amount

User0001 Bank 10000
JasonChan Cash 5000
```
The second field is the account name and the last one is the amount that account has.
#### Structure of "Record.txt"
It stores a user's transaction records.
```
Record
Username|Account|Amount|Category|Timestamp

User0001 Bank 5000 Salary 0703201914110
JasonChan Cash -100 Food 1704201915353
User0001 Bank -22 Transportation 1904201918405-Auto:12345
```
The second field is the account responsible for the transaction. The "Amount" field is the money added(+) or used(-). The next field is the type of that transaction which will be used as statistics. The last field is the time when the transaction is made. It follows the format of DDMMYYYYHHMMW, which means Day/Month/Year Hour:Minute Weekday. For example 01/02/2019 18:00 Fri will be represented as 0102201918005. Notice that W starts from 0(Sun) to 6(Sat). The extra "-Auto:X" means that record is made automatically by the program every X, eg. 1 means Monday.
#### Structure of "Budget.txt"
It stores the bugets set by a user.
```
Budget
UserName|Period|Timestamp|Category|BudgetAmount|Remain

User0001 Daily 040420191230 Food 200 150
JasonChan Monthly 040420191111 Game 300 300
```
The second field is the period of the budget. The only values allowed are "Daily" and "Monthly". The third one is the date with the format mentioned but without W. It is used to check whether the budget will be renewed. The fourth field is the category. "BudgetAmont" shows the allowance and "Remain" shows how much budget is left.
#### Structure of "Auto_Record.txt"
It tells the program when the scheduled transactions will be made.
```
Auto_Record
Username|Account|Amount|Category|Timestamp

User0001 Bank -22 Transportation 1804201916424-Auto:12345
```
"Account" indicates which account is responsible for the transaction. The next one is simply the amount. "Category" means the type of the transaction. "Timestamp", which has the same format in "Record.txt" is used to check whether the record has been automatically added.
### Output
All the data input by the user in the program will be processed and saved in the databases in the mentioned format. The data will be used for next IPO cycle (Input-Process-Output).

<a name="instruction"></a>
## Compilation and Execution Instructions
### Compilation
The program consists of three pairs of source files. They are:
1. `Accouting_system.cpp` and `Accounting_system.h`   - Main program
2. `data_manipulation.cpp` and `data_manipulation.h`  - Data handling functions
3. `user_interface.cpp` and `user_interface.h`        - User-interface design

They should be compiled using the following Makefile with the command `make all`:
```
CXX=g++
CXXFLAGS=-std=c++11 -fno-stack-protector
OBJ=Accounting_system.o data_manipulation.o user_interface.o
all: Accounting_system
Accounting_system: $(OBJ)
	$(CXX) $(CXXFLAGS) $^ -o $@
data_manipulation.o: data_manipulation.cpp
	$(CXX) $(CXXFLAGS) -c $<
user_interface.o: user_interface.cpp
	$(CXX) $(CXXFLAGS) -c $<
Accounting_system.o: Accounting_system.cpp
	$(CXX) $(CXXFLAGS) -c $<
```
### Execution
Instructions are given during user input. Input format should be followed strictly to prevent errors.
For example, in the "Add Record" function:
```
Please enter (Account) (+/-Amount) (Category) :
```
The user should follow the input order. The user can input all the field at the same time using spaces for separation:
```
Please enter (Account) (+/-Amount) (Category) : Bank -100 Food
```
Or one by one:
```
Please enter (Account) (+/-Amount) (Category) : Bank
-100
Food
```
#### Sample run
A sample run is provided in the folder "Sample".

In Linux OS,
1. Run command `./Accounting_system < create_user.txt`.
2. Run command `./Accounting_system < sample_run.txt`.

The sample run will create a user called "User_Test" with password "test". It will create and view an account, add and view a record and finally generate a report.

Possible sample output (Omitted non-output):
```
Account Name: Bank            Amount: $10000
...
User_Test Bank -100 Food            25/04/2019-20:27 Thu
...
---------------------------------------------------

Date: 04/2019

Accounts:
Bank: $9900.0

Summary:
Total income: $0.0
Total expense: $100.0
Net income: $-100.0

Income by category:
Empty

Expense by category:
Food: $100.0 (100.0%)

---------------------------------------------------
```
Notice that the default date is 04/2019. It can be changed in "sample_run.txt".
